(function(e){function t(t){for(var o,r,c=t[0],s=t[1],l=t[2],u=0,d=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},a={app:0},i=[];function c(e){return s.p+"js/"+({livestream:"livestream"}[e]||e)+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={livestream:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var o="css/"+({livestream:"livestream"}[e]||e)+".css",a=s.p+o,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var l=i[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===a))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===o||u===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[e],p.parentNode.removeChild(p),n(i)},p.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){r[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,n){o=a[e]=[t,n]}));t.push(o[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",d.name="ChunkLoadError",d.type=o,d.request=r,n[1](d)}a[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0c34":function(e,t,n){"use strict";var o=n("7a23"),r={class:"controls"};function a(e,t,n,a,i,c){return Object(o["u"])(),Object(o["e"])("div",r,[Object(o["f"])("div",{class:"vue-joystick",ref:"touchevent",style:Object(o["p"])(c.style),onMousemove:t[0]||(t[0]=function(){return c.handleMove&&c.handleMove.apply(c,arguments)}),onMousedown:t[1]||(t[1]=function(){return c.handleStart&&c.handleStart.apply(c,arguments)}),onMouseup:t[2]||(t[2]=function(){return c.handleRelease&&c.handleRelease.apply(c,arguments)}),onTouchend:t[3]||(t[3]=function(){return c.handleRelease&&c.handleRelease.apply(c,arguments)})},null,36)])}var i={props:{color:{type:String,default:"#25B"}},data:function(){return{x:0,y:0,angle:0,speed:0,isMouseDown:!1,linksX:0,linksY:0,rechtsX:0}},computed:{style:function(){return{"--x":"".concat(this.x+64,"px"),"--y":"".concat(this.y+64,"px"),"--speed":"".concat(this.speed,"px"),"--angle":"".concat(this.angle,"deg"),"--color":"".concat(this.color)}}},methods:{handleStart:function(){this.isMouseDown=!0},handleTouch:function(e){var t=e.changedTouches;this.linksX=t[0].clientX,this.linksY=t[0].clientY;var n=this.$el,o=n.offsetLeft,r=n.offsetTop,a=Math.round(this.linksX-o-64),i=Math.round(this.linksY-r-64);this.updatePosition(a,i)},handleMove:function(e){var t=e.clientX,n=e.clientY;if(this.isMouseDown){var o=this.$el,r=o.offsetLeft,a=o.offsetTop,i=Math.round(t-r-64),c=Math.round(n-a-64);this.updatePosition(i,c)}},handleRelease:function(){this.emitAll("release"),this.isMouseDown=!1,this.updatePosition(0,0)},updatePosition:function(e,t){var n=48,o=Math.atan2(t,e),r=Math.round(180*o/Math.PI,4);this.angle=r+(r>90?-270:90),this.speed=Math.min(Math.round(Math.sqrt(Math.pow(t,2)+Math.pow(e,2))),128),this.x=this.speed>n?Math.cos(o)*n:e,this.y=this.speed>=n?Math.sin(o)*n:t,this.emitAll()},emitAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"change";this.$emit(e,{x:this.x,y:this.y,speed:this.speed,angle:this.angle})}},mounted:function(){var e=this;this.$refs.touchevent.addEventListener("touchstart",(function(t){e.handleStart(t)}),!1),this.$refs.touchevent.addEventListener("touchend",(function(t){e.handleRelease(t)}),!1),this.$refs.touchevent.addEventListener("touchcancel",(function(t){e.handleCancel(t)}),!1),this.$refs.touchevent.addEventListener("touchleave",(function(t){e.handleEnd(t)}),!1),this.$refs.touchevent.addEventListener("touchmove",(function(t){e.handleTouch(t)}),!1),console.log("initialized."),this.emitAll()}},c=(n("fc05"),n("6b0d")),s=n.n(c);const l=s()(i,[["render",a]]);t["a"]=l},2361:function(e,t,n){},2918:function(e,t,n){"use strict";n("c15d")},"2d0a":function(e,t,n){"use strict";n("a5be")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(e,t){var n=Object(o["A"])("router-view");return Object(o["u"])(),Object(o["c"])(n)}n("2918");var a=n("6b0d"),i=n.n(a);const c={},s=i()(c,[["render",r]]);var l=s,u=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),d=(n("498a"),function(e){return Object(o["x"])("data-v-50dd25b4"),e=e(),Object(o["v"])(),e}),p={class:"background",ref:"mouseEvent"},h={key:0,class:"row"},f={class:"information"},v={class:"data"},b=d((function(){return Object(o["f"])("h4",null,"IP CarDesktop",-1)})),m=d((function(){return Object(o["f"])("div",{class:"livefeed"},[Object(o["f"])("video",{mute:"true",playsinline:"",autoplay:"",id:"v"})],-1)})),g={key:1,class:"row"},w={key:0,class:"landscape"},y={class:"information"},O={class:"data"},j=d((function(){return Object(o["f"])("h4",{class:"namecar"},"IP CAR",-1)})),k=d((function(){return Object(o["f"])("label",{for:"checkbox"},"Touch control",-1)})),x=d((function(){return Object(o["f"])("div",{class:"livefeed"},[Object(o["f"])("video",{mute:"true",playsinline:"",autoplay:"",id:"v"})],-1)})),S={key:0},C={key:1,class:"portrait"},R=d((function(){return Object(o["f"])("div",{class:"welcomeText"},[Object(o["f"])("h1",null,"Welkom"),Object(o["f"])("div",{class:"welcomeInfo"},[Object(o["f"])("p",null,"Kantel je smartphone, in landscape mode om de app te gebruiken"),Object(o["f"])("p",null,"Het is aan te raden om de website te installeren op het homescherm. Dit kan via de instellingen van de browser")])],-1)})),L=[R];function E(e,t,n,r,a,i){var c=Object(o["A"])("Joystick1"),s=Object(o["A"])("Joystick2");return Object(o["u"])(),Object(o["e"])("div",p,[a.desktop?(Object(o["u"])(),Object(o["e"])("div",h,[Object(o["f"])("div",f,[Object(o["f"])("div",v,[b,Object(o["f"])("ul",null,[Object(o["f"])("li",null,"Status: "+Object(o["C"])(a.status),1),Object(o["f"])("li",null,"Snelheid: "+Object(o["C"])(a.realSpeed)+"km/h",1),Object(o["f"])("li",null,"Accu: "+Object(o["C"])(a.accu)+"%",1),Object(o["f"])("li",null,"Camera: "+Object(o["C"])(a.camera),1)]),Object(o["f"])("div",{class:Object(o["o"])({Buttonactive:a.Active,ButtonInactive:a.Inactive}),onClick:t[0]||(t[0]=function(){return i.connect&&i.connect.apply(i,arguments)})},Object(o["C"])(a.statusButton),3)])]),m])):Object(o["d"])("",!0),a.mobile?(Object(o["u"])(),Object(o["e"])("div",g,[a.landscape?(Object(o["u"])(),Object(o["e"])("div",w,[Object(o["f"])("div",y,[Object(o["f"])("div",O,[j,Object(o["f"])("div",{class:Object(o["o"])({Buttonactive:a.Active,ButtonInactive:a.Inactive}),onClick:t[1]||(t[1]=function(){return i.connect&&i.connect.apply(i,arguments)})},Object(o["C"])(a.statusButton),3),Object(o["f"])("ul",null,[Object(o["f"])("li",null,"Status: "+Object(o["C"])(a.status),1),Object(o["f"])("li",null,"Snelheid: "+Object(o["C"])(a.realSpeed)+"km/h",1),Object(o["f"])("li",null,"Accu: "+Object(o["C"])(a.accu)+"%",1),Object(o["f"])("li",null,"Trim: "+Object(o["C"])(a.trim),1),Object(o["f"])("li",null,"Phone: "+Object(o["C"])(a.orrientationPhone),1),Object(o["f"])("li",null,[Object(o["H"])(Object(o["f"])("input",{type:"checkbox",id:"checkbox",onClick:t[2]||(t[2]=function(){return i.touchSwitch&&i.touchSwitch.apply(i,arguments)}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.touchState=e})},null,512),[[o["E"],a.touchState]]),k])])])]),x,a.touchVisibilty?(Object(o["u"])(),Object(o["e"])("div",S,[Object(o["i"])(c,{class:"joystick1",onChange:t[4]||(t[4]=function(e){i.handleChange("left",e)})}),Object(o["i"])(s,{class:"joystick2",onChange:t[5]||(t[5]=function(e){i.handleChange("right",e)})})])):Object(o["d"])("",!0)])):Object(o["d"])("",!0),a.portrait?(Object(o["u"])(),Object(o["e"])("div",C,L)):Object(o["d"])("",!0)])):Object(o["d"])("",!0)],512)}var M=n("b85c"),A=n("1da1"),P=(n("96cf"),n("ac1f"),n("00b4"),n("d81d"),n("b680"),n("4ec9"),n("e9c4"),n("0c34")),D=n("e6e5"),T=n("552e"),_=null,B=null,I={data:function(){return Object(T["b"])({meta:[{name:"viewport",content:"initial-scale=1, viewport-fit=cover"}]}),{status:"offline",statusButton:"connect",speed:0,realSpeed:0,accu:0,trim:0,light:"uit",camera:"offline",controller:"offline",xAxesLeft:0,sendSpeedValue:0,Inactive:!0,Active:!1,internetConnection:!1,desktop:!0,mobile:!1,touchState:!1,touchVisibilty:!1,optionButton:0,orrientationPhone:"portrait",portrait:!0,landscape:!1,leftStick:{x:0,y:0,speed:0,angle:0},rightStick:{x:0,y:0,speed:0,angle:0}}},components:{Joystick1:P["a"],Joystick2:P["a"],controllerConnection:D["a"]},created:function(){this.gameController(),B=this},mounted:function(){window.innerWidth>window.innerHeight&&(this.portrait=!1,this.landscape=!0,console.log("landscap")),window.innerHeight>window.innerWidth&&(this.portrait=!0,this.landscape=!1),window.addEventListener("orientationchange",this.handleOrientationChange),this.$refs.mouseEvent.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopImmediatePropagation()}),{passive:!1}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(console.log("mobile device"),this.mobile=!0,this.desktop=!1):(console.log("not mobile device"),this.mobile=!1,this.desktop=!0)},computed:{},methods:{handleOrientationChange:function(){window.matchMedia("(orientation:portrait)").matches?(this.orrientationPhone="landscap",this.portrait=!1,this.landscape=!0):window.matchMedia("(orientation: landscape)").matches&&(this.orrientationPhone="portrait",this.portrait=!0,this.landscape=!1,console.log("portrait"))},touchSwitch:function(){0==this.touchVisibilty?this.touchVisibilty=!0:this.touchVisibilty=!1},gameController:function(){var e=this;window.addEventListener("gamepadconnected",(function(){e.inputController(),e.gamepads=navigator.getGamepads()})),window.addEventListener("gamepaddisconnected",(function(){}))},handleChange:function(e,t){var n=t.x,o=t.y,r=t.speed,a=t.angle,i=this["".concat(e,"Stick")];i.speed=r,i.angle=a,"right"==e&&(i.y=o,this.speed=this.map(i.y,48,-48,1350,1650)),"left"==e&&(i.x=n,this.xAxesLeft=this.map(i.x,-48,48,500,2500)),1==this.mobile&&1==this.touchState&&(console.log(this.speed),_.send([this.xAxesLeft,this.speed]))},inputController:function(){var e=navigator.getGamepads();e[0]&&(this.gamepadState={id:e[0].id,axes:[e[0].axes[0]],buttons:[{button_1:e[0].buttons[0].value},{button_3:e[0].buttons[3].value},{button_4:e[0].buttons[4].value},{button_5:e[0].buttons[5].value},{button_6:e[0].buttons[6].value},{button_7:e[0].buttons[7].value},{button_9:e[0].buttons[7].value},{button_14:e[0].buttons[14].value},{button_15:e[0].buttons[15].value}]},this.Kruisje=e[0].buttons[0].value,this.Kruisje=e[0].buttons[3].value,this.optionButton=e[0].buttons[9].value,this.speed=this.map(e[0].buttons[7].value,0,1,1500,1600),this.reverse=this.map(e[0].buttons[6].value,0,1,1500,1400),this.xAxesLeft=this.map(e[0].axes[0],-1,1,500,2500),0==e[0].buttons[6].value&&(this.realSpeed=this.map(e[0].buttons[7].value,0,1,0,15)),0==e[0].buttons[7].value&&(this.realSpeed=this.map(e[0].buttons[6].value,0,1,0,15)),this.speed>1501?this.sendSpeedValue=this.speed:this.reverse<1501?this.sendSpeedValue=this.reverse:this.reverse<1499&&this.speed>1501&&(this.sendSpeedValue=1500),"online"==this.controller&&0==this.touchState&&_.send("steering: "+this.xAxesLeft+", speed: "+this.sendSpeedValue+", camera: "+this.optionButton)),window.requestAnimationFrame(this.inputController)},map:function(e,t,n,o,r){return((e-t)*(r-o)/(n-t)+o).toFixed(0)},connect:function(){this.carControl(),this.videoStream(),this.internetConnection=window.navigator.onLine,this.internetConnection?this.status="internet":this.status="No internet"},online:function(){"online"==this.controller&&"online"==this.camera&&(this.status="connected",this.statusButton="connected")},carControl:function(){return Object(A["a"])(regeneratorRuntime.mark((function e(){var t,n,o,r,a,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={sdpSemantics:"unified-plan",iceCandidatePoolSize:4,iceServers:[{urls:"turn:turn.stepverder.nl:3478",username:"Dominique",credential:"WS7Yq_jT"}]},n="controldata",o="controller",r=new Map,i=function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return",a);case 2:return e.abrupt("return",new Promise((function(e,o){try{a=new WebSocket("wss://stepverder.nl:4084/controller");var r=function o(){a.send(JSON.stringify({type:"register",peerType:n,peerId:t})),a.removeEventListener("open",o),e(a)};a.addEventListener("open",r)}catch(i){o(i),console.log(i)}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prev=5,console.log("in controller"),e.next=9,i(n,o);case 9:c=e.sent,c.addEventListener("message",function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(o){var a,i,s,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=JSON.parse(o.data),"Raspberrypis"!==a.type){e.next=19;break}console.log("raspberry pi probeert te verbinden"),i=Object(M["a"])(a.Raspberrypis),e.prev=4,l=regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=s.value,a=new RTCPeerConnection(t),r.set(o,a),a.addEventListener("icegatheringstatechange",(function(){console.log(a.connectionState)})),_=a.createDataChannel("sendDataChannel",{ordered:!1,maxRetransmits:0}),_.onopen=function(e){B.status="controller ",B.controller="online",B.online(),console.log("hi you")},console.log(_),e.next=9,a.createOffer().then((function(e){return a.setLocalDescription(e)})).then((function(){return new Promise((function(e){if("complete"===a.iceGatheringState)B.status="complete",e();else{var t=function t(){console.log(a.iceGatheringState),B.status=" Ice gathering ","complete"===a.iceGatheringState&&(a.removeEventListener("icegatheringstatechange",t),e()),setTimeout((function(){a.removeEventListener("icegatheringstatechange",t),e()}),2500)};a.addEventListener("icegatheringstatechange",t)}}))})).then((function(){console.log(a),console.log("offer wordt gestuurd"),c.send(JSON.stringify({type:"offer",to:o,from:n,data:a.localDescription}))}));case 9:case"end":return e.stop()}}),e)})),i.s();case 7:if((s=i.n()).done){e.next=11;break}return e.delegateYield(l(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](4),i.e(e.t1);case 16:return e.prev=16,i.f(),e.finish(16);case 19:if("answer"!==a.type){e.next=29;break}return console.log("antwoord van raspberrypi binnen"),u=r.get(a.from),console.log(a.data.sdp),e.next=25,u.setRemoteDescription(a.data);case 25:console.log(u),console.log(u.connectionState),console.log(u.iceConnectionState),console.log(u.signalingState);case 29:"disconnect"===a.type&&(d=r.get(a.from),B.status="controller disconnect",B.statusButton="connect",d&&(console.log("Disconnecting from",a.from),d.close(),r.delete(a.from)));case 30:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),console.log("error: "+e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))()},videoStream:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,o,r,a,i,c,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={iceServers:[{urls:"turn:turn.stepverder.nl:3478",username:"Dominique",credential:"WS7Yq_jT"}]},o=function(){return Math.floor(1e4*Math.random())},r="ipcar"+o(),a="screen",i=new Map,s=function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!c){e.next=2;break}return e.abrupt("return",c);case 2:return e.abrupt("return",new Promise((function(e,o){try{c=new WebSocket("wss://stepverder.nl:4084/ipcar"),console.log(t);var r=function o(){c.send(JSON.stringify({type:"register",peerType:n,peerId:t})),c.removeEventListener("open",o),e(c)};c.addEventListener("open",r)}catch(a){o(a)}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.prev=6,console.log("in screen"),t.next=10,s(r,a);case 10:l=t.sent,l.addEventListener("message",function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(o){var a,c,s,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=JSON.parse(o.data),console.log(a),"offer"!==a.type){t.next=20;break}return c=new RTCPeerConnection(n),i.set(a.from,c),console.log("incoming data "),e.camera="online",e.statusButton="online",e.InActive=!1,e.Active=!0,c.ontrack=function(t){e.status="camera",B.online(),console.log("on track",t),window.v.srcObject=t.streams[0],window.v.play()},c.onicecandidate=function(e){console.log("set icecandidate"),e.candidate&&l.send(JSON.stringify({type:"candidate",from:r,to:a.from,data:e.candidate}))},t.next=14,c.setRemoteDescription(a.data);case 14:return t.next=16,c.createAnswer();case 16:return s=t.sent,t.next=19,c.setLocalDescription(s);case 19:l.send(JSON.stringify({to:a.from,from:r,type:"answer",data:c.localDescription}));case 20:"disconnect"===a.type&&(u=i.get(a.from),u&&(e.status="camera disconnect",e.camera="Offline",e.statusButton="connect",e.InActive=!0,e.Active=!1,console.log("Disconnecting from",a.from),u.ontrack=null,u.onicecandidate=null,u.close(),i.delete(a.from))),"candidate"===a.type&&(console.log(a.data),d=i.get(a.from),d&&(console.log("Adding candidate to",a.from),d.addIceCandidate(new RTCIceCandidate(a.data)))),t.next=28;break;case 24:t.prev=24,t.t0=t["catch"](0),console.error(t.t0),console.log("error video beeld niet ontvangen "+t.t0);case 28:case"end":return t.stop()}}),t,null,[[0,24]])})));return function(e){return t.apply(this,arguments)}}()),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](6),console.error(t.t0),console.log("error verbinding mislukt: "+t.t0);case 18:case"end":return t.stop()}}),t,null,[[6,14]])})))()}}};n("b0db");const N=i()(I,[["render",E],["__scopeId","data-v-50dd25b4"]]);var J=N,q=[{path:"/",name:"Home",component:J},{path:"/about",name:"about",component:function(){return n.e("livestream").then(n.bind(null,"f820"))}},{path:"/broadcast/:id",name:"Broadcast",component:function(){return n.e("livestream").then(n.bind(null,"3821"))}},{path:"/webrtctest",name:"webrtctest",component:function(){return n.e("livestream").then(n.bind(null,"19a6"))}},{path:"/raspberrypi",name:"raspberrypi",component:function(){return n.e("livestream").then(n.bind(null,"0adf"))}},{path:"/controller",name:"controller",component:function(){return n.e("livestream").then(n.bind(null,"3559"))}},{path:"/chris",name:"chris",component:function(){return n.e("livestream").then(n.bind(null,"2a48"))}}],V=Object(u["a"])({history:Object(u["b"])("/"),routes:q}),Y=V,W=n("9483");Object(W["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var $=Object(T["a"])();Object(o["b"])(l).use(Y).use($).mount("#app")},a5be:function(e,t,n){},b0db:function(e,t,n){"use strict";n("2361")},b2da:function(e,t,n){},c15d:function(e,t,n){},e6e5:function(e,t,n){"use strict";function o(e,t,n,o,r,a){return null}var r=n("b85c"),a=n("1da1"),i=(n("96cf"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("e9c4"),null),c={data:function(){return{data:1}},created:function(){},computed:{},methods:{sendData:function(){this.data=Math.floor(100*Math.random()),console.log(this.data),i.send(this.data),window.requestAnimationFrame(this.sendData)},carControl:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,o,c,s,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("link naar component werktS"),t={sdpSemantics:"unified-plan",iceServers:[{urls:"turn:turn.stepverder.nl:3478",username:"Dominique",credential:"WS7Yq_jT"}]},n="controldata",o="controller",c=new Map,l=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return",s);case 2:return e.abrupt("return",new Promise((function(e,o){try{s=new WebSocket("wss://stepverder.nl:4084/controller");var r=function o(){s.send(JSON.stringify({type:"register",peerType:n,peerId:t})),s.removeEventListener("open",o),e(s)};s.addEventListener("open",r)}catch(a){o(a),console.log(a)}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prev=6,console.log("in controller"),e.next=10,l(n,o);case 10:u=e.sent,u.addEventListener("message",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(o){var a,s,l,d,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=JSON.parse(o.data),"Raspberrypis"!==a.type){e.next=19;break}console.log("raspberry pi probeert te verbinden"),s=Object(r["a"])(a.Raspberrypis),e.prev=4,d=regeneratorRuntime.mark((function e(){var o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=l.value,r=new RTCPeerConnection(t),c.set(o,r),r.addEventListener("icegatheringstatechange",(function(){console.log(r.connectionState)})),i=r.createDataChannel("sendDataChannel",{ordered:!1,maxRetransmits:0}),i.onopen=function(e){console.log("hi you"),i.send("Hi raspberrypi!")},console.log(i),e.next=9,r.createOffer().then((function(e){return r.setLocalDescription(e)})).then((function(){return new Promise((function(e){if("complete"===r.iceGatheringState)e();else{function t(){console.log(r.iceGatheringState),"complete"===r.iceGatheringState&&(r.removeEventListener("icegatheringstatechange",t),e())}r.addEventListener("icegatheringstatechange",t)}}))})).then((function(){console.log(r),console.log("offer wordt gestuurd"),u.send(JSON.stringify({type:"offer",to:o,from:n,data:r.localDescription}))}));case 9:case"end":return e.stop()}}),e)})),s.s();case 7:if((l=s.n()).done){e.next=11;break}return e.delegateYield(d(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](4),s.e(e.t1);case 16:return e.prev=16,s.f(),e.finish(16);case 19:if("answer"!==a.type){e.next=29;break}return console.log("antwoord van raspberrypi binnen"),p=c.get(a.from),console.log(a.data.sdp),e.next=25,p.setRemoteDescription(a.data);case 25:console.log(p),console.log(p.connectionState),console.log(p.iceConnectionState),console.log(p.signalingState);case 29:"disconnect"===a.type&&(h=c.get(a.from),h&&(console.log("Disconnecting from",a.from),h.close(),c.delete(a.from)));case 30:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](6),console.log("error: "+e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))()}}},s=(n("2d0a"),n("6b0d")),l=n.n(s);const u=l()(c,[["render",o],["__scopeId","data-v-60669cdd"]]);t["a"]=u},fc05:function(e,t,n){"use strict";n("b2da")}});
//# sourceMappingURL=app.js.map