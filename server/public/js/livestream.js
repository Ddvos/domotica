(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["livestream"],{3821:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),o=function(e){return Object(n["v"])("data-v-64c576dd"),e=e(),Object(n["t"])(),e},a=o((function(){return Object(n["f"])("h3",null,"Live Video Stream (broadcast)",-1)})),i=o((function(){return Object(n["f"])("video",{mute:"true",playsinline:"",autoplay:"",id:"v",width:"50%",height:"50%"},null,-1)}));function c(e,t,r,o,c,u){return Object(n["s"])(),Object(n["e"])("div",null,[a,i,Object(n["g"])(" "+Object(n["A"])(e.$route.params.id),1)])}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("fb6a"),r("b0c0"),r("a630"),r("ac1f"),r("00b4");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function f(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r["return"]||r["return"]()}finally{if(c)throw a}}}}var d=r("1da1"),l=(r("96cf"),r("4ec9"),r("e9c4"),{data:function(){return{user:"hello"}},created:function(){this.user=this.$route.params.id,this.videoStream()},mounted:function(){},computed:{},methods:{videoStream:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,n,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.user),r={iceServers:[{urls:"turn:turn.stepverder.nl:3478",username:"Dominique",credential:"WS7Yq_jT"}]},n=e.user,o="camera",a=new Map,c=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(r,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i){t.next=2;break}return t.abrupt("return",i);case 2:return t.abrupt("return",new Promise((function(t,o){try{window.location.protocol;i=new WebSocket("wss://stepverder.nl:4084/"+e.user);var a=function e(){i.send(JSON.stringify({type:"register",peerType:n,peerId:r})),i.removeEventListener("open",e),t(i)};i.addEventListener("open",a)}catch(c){o(c)}})));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),t.prev=6,console.log("in camera"),t.next=10,navigator.mediaDevices.getUserMedia({video:{width:{exact:1280},height:{exact:720},frameRate:{min:30,max:120}},audio:!1});case 10:return u=t.sent,window.v.srcObject=u,window.v.play(),t.next=15,c(n,o);case 15:s=t.sent,s.addEventListener("message",function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var o,i,c,d,l,v,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=JSON.parse(t.data),console.log("msg",o),"screens"!==o.type){e.next=20;break}console.log("vraag om beeld voor candidaten"),i=f(o.screens),e.prev=5,d=regeneratorRuntime.mark((function e(){var t,o,i,d,l,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=c.value,o=new RTCPeerConnection(r),a.set(t,o),i=f(u.getTracks());try{for(i.s();!(d=i.n()).done;)l=d.value,o.addTrack(l,u)}catch(b){i.e(b)}finally{i.f()}return e.next=7,o.createOffer();case 7:return v=e.sent,e.next=10,o.setLocalDescription(v);case 10:o.onicecandidate=function(e){e.candidate&&s.send(JSON.stringify({type:"candidate",from:n,to:t,data:e.candidate}))},s.send(JSON.stringify({type:"offer",to:t,from:n,data:o.localDescription}));case 12:case"end":return e.stop()}}),e)})),i.s();case 8:if((c=i.n()).done){e.next=12;break}return e.delegateYield(d(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e["catch"](5),i.e(e.t1);case 17:return e.prev=17,i.f(),e.finish(17);case 20:"answer"===o.type&&(l=a.get(o.from),l.setRemoteDescription(o.data)),"disconnect"===o.type&&(v=a.get(o.from),v&&(console.log("Disconnecting from",o.from),v.close(),a.delete(o.from))),"candidate"===o.type&&(b=a.get(o.from),b&&(console.log("Adding candidate to",o.from),b.addIceCandidate(new RTCIceCandidate(o.data))));case 23:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](6),console.log("error: "+t.t0);case 22:case"end":return t.stop()}}),t,null,[[6,19]])})))()}}}),v=(r("edd9"),r("6b0d")),b=r.n(v);const p=b()(l,[["render",c],["__scopeId","data-v-64c576dd"]]);t["default"]=p},"428f":function(e,t,r){var n=r("da84");e.exports=n},"4df4":function(e,t,r){"use strict";var n=r("da84"),o=r("0366"),a=r("c65b"),i=r("7b0b"),c=r("9bdd"),u=r("e95a"),s=r("68ee"),f=r("07fa"),d=r("8418"),l=r("9a1f"),v=r("35a1"),b=n.Array;e.exports=function(e){var t=i(e),r=s(this),n=arguments.length,p=n>1?arguments[1]:void 0,m=void 0!==p;m&&(p=o(p,n>2?arguments[2]:void 0));var h,g,y,w,S,O,x=v(t),j=0;if(!x||this==b&&u(x))for(h=f(t),g=r?new this(h):b(h);h>j;j++)O=m?p(t[j],j):t[j],d(g,j,O);else for(w=l(t,x),S=w.next,g=r?new this:[];!(y=a(S,w)).done;j++)O=m?c(w,p,[y.value,j],!0):y.value,d(g,j,O);return g.length=j,g}},"746f":function(e,t,r){var n=r("428f"),o=r("1a2d"),a=r("e538"),i=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||i(t,e,{value:a.f(e)})}},8418:function(e,t,r){"use strict";var n=r("a04b"),o=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var i=n(t);i in e?o.f(e,i,a(0,r)):e[i]=r}},"9b64":function(e,t,r){},"9bdd":function(e,t,r){var n=r("825a"),o=r("2a62");e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(i){o(e,"throw",i)}}},a4d3:function(e,t,r){"use strict";var n=r("23e7"),o=r("da84"),a=r("d066"),i=r("2ba4"),c=r("c65b"),u=r("e330"),s=r("c430"),f=r("83ab"),d=r("4930"),l=r("d039"),v=r("1a2d"),b=r("e8b5"),p=r("1626"),m=r("861d"),h=r("3a9b"),g=r("d9b5"),y=r("825a"),w=r("7b0b"),S=r("fc6a"),O=r("a04b"),x=r("577e"),j=r("5c6c"),k=r("7c73"),A=r("df75"),R=r("241c"),T=r("057f"),I=r("7418"),P=r("06cf"),E=r("9bf2"),J=r("d1e7"),C=r("f36a"),D=r("6eeb"),N=r("5692"),L=r("f772"),$=r("d012"),M=r("90e3"),F=r("b622"),_=r("e538"),q=r("746f"),U=r("d44e"),W=r("69f3"),Y=r("b727").forEach,Q=L("hidden"),V="Symbol",X="prototype",z=F("toPrimitive"),B=W.set,G=W.getterFor(V),H=Object[X],K=o.Symbol,Z=K&&K[X],ee=o.TypeError,te=o.QObject,re=a("JSON","stringify"),ne=P.f,oe=E.f,ae=T.f,ie=J.f,ce=u([].push),ue=N("symbols"),se=N("op-symbols"),fe=N("string-to-symbol-registry"),de=N("symbol-to-string-registry"),le=N("wks"),ve=!te||!te[X]||!te[X].findChild,be=f&&l((function(){return 7!=k(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=ne(H,t);n&&delete H[t],oe(e,t,r),n&&e!==H&&oe(H,t,n)}:oe,pe=function(e,t){var r=ue[e]=k(Z);return B(r,{type:V,tag:e,description:t}),f||(r.description=t),r},me=function(e,t,r){e===H&&me(se,t,r),y(e);var n=O(t);return y(r),v(ue,n)?(r.enumerable?(v(e,Q)&&e[Q][n]&&(e[Q][n]=!1),r=k(r,{enumerable:j(0,!1)})):(v(e,Q)||oe(e,Q,j(1,{})),e[Q][n]=!0),be(e,n,r)):oe(e,n,r)},he=function(e,t){y(e);var r=S(t),n=A(r).concat(Oe(r));return Y(n,(function(t){f&&!c(ye,r,t)||me(e,t,r[t])})),e},ge=function(e,t){return void 0===t?k(e):he(k(e),t)},ye=function(e){var t=O(e),r=c(ie,this,t);return!(this===H&&v(ue,t)&&!v(se,t))&&(!(r||!v(this,t)||!v(ue,t)||v(this,Q)&&this[Q][t])||r)},we=function(e,t){var r=S(e),n=O(t);if(r!==H||!v(ue,n)||v(se,n)){var o=ne(r,n);return!o||!v(ue,n)||v(r,Q)&&r[Q][n]||(o.enumerable=!0),o}},Se=function(e){var t=ae(S(e)),r=[];return Y(t,(function(e){v(ue,e)||v($,e)||ce(r,e)})),r},Oe=function(e){var t=e===H,r=ae(t?se:S(e)),n=[];return Y(r,(function(e){!v(ue,e)||t&&!v(H,e)||ce(n,ue[e])})),n};if(d||(K=function(){if(h(Z,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,t=M(e),r=function(e){this===H&&c(r,se,e),v(this,Q)&&v(this[Q],t)&&(this[Q][t]=!1),be(this,t,j(1,e))};return f&&ve&&be(H,t,{configurable:!0,set:r}),pe(t,e)},Z=K[X],D(Z,"toString",(function(){return G(this).tag})),D(K,"withoutSetter",(function(e){return pe(M(e),e)})),J.f=ye,E.f=me,P.f=we,R.f=T.f=Se,I.f=Oe,_.f=function(e){return pe(F(e),e)},f&&(oe(Z,"description",{configurable:!0,get:function(){return G(this).description}}),s||D(H,"propertyIsEnumerable",ye,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:K}),Y(A(le),(function(e){q(e)})),n({target:V,stat:!0,forced:!d},{for:function(e){var t=x(e);if(v(fe,t))return fe[t];var r=K(t);return fe[t]=r,de[r]=t,r},keyFor:function(e){if(!g(e))throw ee(e+" is not a symbol");if(v(de,e))return de[e]},useSetter:function(){ve=!0},useSimple:function(){ve=!1}}),n({target:"Object",stat:!0,forced:!d,sham:!f},{create:ge,defineProperty:me,defineProperties:he,getOwnPropertyDescriptor:we}),n({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Se,getOwnPropertySymbols:Oe}),n({target:"Object",stat:!0,forced:l((function(){I.f(1)}))},{getOwnPropertySymbols:function(e){return I.f(w(e))}}),re){var xe=!d||l((function(){var e=K();return"[null]"!=re([e])||"{}"!=re({a:e})||"{}"!=re(Object(e))}));n({target:"JSON",stat:!0,forced:xe},{stringify:function(e,t,r){var n=C(arguments),o=t;if((m(t)||void 0!==e)&&!g(e))return b(t)||(t=function(e,t){if(p(o)&&(t=c(o,this,e,t)),!g(t))return t}),n[1]=t,i(re,null,n)}})}if(!Z[z]){var je=Z.valueOf;D(Z,z,(function(e){return c(je,this)}))}U(K,V),$[Q]=!0},a630:function(e,t,r){var n=r("23e7"),o=r("4df4"),a=r("1c7e"),i=!a((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:i},{from:o})},b0c0:function(e,t,r){var n=r("83ab"),o=r("5e77").EXISTS,a=r("e330"),i=r("9bf2").f,c=Function.prototype,u=a(c.toString),s=/^\s*function ([^ (]*)/,f=a(s.exec),d="name";n&&!o&&i(c,d,{configurable:!0,get:function(){try{return f(s,u(this))[1]}catch(e){return""}}})},d28b:function(e,t,r){var n=r("746f");n("iterator")},e01a:function(e,t,r){"use strict";var n=r("23e7"),o=r("83ab"),a=r("da84"),i=r("e330"),c=r("1a2d"),u=r("1626"),s=r("3a9b"),f=r("577e"),d=r("9bf2").f,l=r("e893"),v=a.Symbol,b=v&&v.prototype;if(o&&u(v)&&(!("description"in b)||void 0!==v().description)){var p={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:f(arguments[0]),t=s(b,this)?new v(e):void 0===e?v():v(e);return""===e&&(p[t]=!0),t};l(m,v),m.prototype=b,b.constructor=m;var h="Symbol(test)"==String(v("test")),g=i(b.toString),y=i(b.valueOf),w=/^Symbol\((.*)\)[^)]+$/,S=i("".replace),O=i("".slice);d(b,"description",{configurable:!0,get:function(){var e=y(this),t=g(e);if(c(p,e))return"";var r=h?O(t,7,-1):S(t,w,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:m})}},e538:function(e,t,r){var n=r("b622");t.f=n},edd9:function(e,t,r){"use strict";r("9b64")},f820:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),o={class:"about"},a=Object(n["f"])("h1",null,"This is an about page",-1),i=[a];function c(e,t){return Object(n["s"])(),Object(n["e"])("div",o,i)}var u=r("6b0d"),s=r.n(u);const f={},d=s()(f,[["render",c]]);t["default"]=d},fb6a:function(e,t,r){"use strict";var n=r("23e7"),o=r("da84"),a=r("e8b5"),i=r("68ee"),c=r("861d"),u=r("23cb"),s=r("07fa"),f=r("fc6a"),d=r("8418"),l=r("b622"),v=r("1dde"),b=r("f36a"),p=v("slice"),m=l("species"),h=o.Array,g=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,n,o,l=f(this),v=s(l),p=u(e,v),y=u(void 0===t?v:t,v);if(a(l)&&(r=l.constructor,i(r)&&(r===h||a(r.prototype))?r=void 0:c(r)&&(r=r[m],null===r&&(r=void 0)),r===h||void 0===r))return b(l,p,y);for(n=new(void 0===r?h:r)(g(y-p,0)),o=0;p<y;p++,o++)p in l&&d(n,o,l[p]);return n.length=o,n}})}}]);
//# sourceMappingURL=livestream.js.map