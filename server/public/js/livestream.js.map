{"version":3,"sources":["webpack:///./src/views/raspberrypi.vue","webpack:///./src/views/raspberrypi.vue?2926","webpack:///./src/views/Controller.vue?b294","webpack:///./src/views/Webrtctest.vue","webpack:///./src/views/Webrtctest.vue?047c","webpack:///./src/views/Webrtctest.vue?31cf","webpack:///./src/views/Broadcast.vue?5dd7","webpack:///./src/views/chris.vue","webpack:///./src/views/chris.vue?5c28","webpack:///./src/views/Controller.vue","webpack:///./src/views/Controller.vue?51b9","webpack:///./src/views/Broadcast.vue","webpack:///./src/views/Broadcast.vue?12e3","webpack:///./src/views/chris.vue?2bd5","webpack:///./src/views/raspberrypi.vue?0427","webpack:///./src/views/About.vue","webpack:///./src/views/About.vue?aa81"],"names":["class","ref","carControl","sendData","sendChannel","peerConnection","data","created","config","iceServers","urls","username","credential","RTCPeerConnection","computed","methods","console","log","this","send","peerId","peerType","connections","Map","getSocket","ws","Promise","resolve","reject","WebSocket","onOpen","JSON","stringify","type","removeEventListener","addEventListener","e","socket","msg","parse","set","from","ondatachannel","ev","receiveChannel","channel","onopen","onmessage","evt","setRemoteDescription","createAnswer","then","offer","setLocalDescription","iceGatheringState","checkState","localDescription","sdp","to","connection","get","camera","statusButton","InActive","Active","ontrack","onicecandidate","close","delete","error","__exports__","render","Math","floor","random","window","requestAnimationFrame","sdpSemantics","Raspberrypis","Raspberrypi","connectionState","createDataChannel","ordered","maxRetransmits","event","createOffer","iceConnectionState","signalingState","src","img","alt","components","mute","playsinline","autoplay","id","for","desktop","status","realSpeed","accu","Inactive","connect","mobile","trim","touchSwitch","touchState","touchVisibilty","handleChange","$event","_this","speed","light","controller","xAxesLeft","sendSpeedValue","internetConnection","optionButton","leftStick","x","y","angle","rightStick","metaInfo","meta","charset","name","content","controllerConnection","gameController","mounted","$refs","mouseEvent","preventDefault","stopImmediatePropagation","passive","test","navigator","userAgent","inputController","gamepads","getGamepads","stick","map","gamepadState","axes","buttons","button_1","value","button_3","button_4","button_5","button_6","button_7","button_9","button_14","button_15","Kruisje","reverse","in_min","in_max","out_min","out_max","toFixed","videoStream","onLine","online","iceCandidatePoolSize","setTimeout","getRandomId","v","srcObject","streams","play","candidate","addIceCandidate","RTCIceCandidate","width","height","$route","params","user","location","protocol","mediaDevices","getUserMedia","video","exact","frameRate","min","max","audio","mediaStream","screens","screen","getTracks","track","addTrack","script"],"mappings":"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","file":"js/livestream.js","sourcesContent":["<template>\r\n<div class=\"background\" ref=\"mouseEvent\">\r\n    <h2>RaspberryPI</h2>\r\n    <button v-on:click=\"carControl\">connect</button>\r\n    <button v-on:click=\"sendData\">send</button>\r\n</div>\r\n  \r\n</template>\r\n\r\n\r\n            \r\n<script>\r\n\r\nlet   sendChannel = null\r\nlet   peerConnection = null            \r\nexport default {\r\n  \r\n\r\n  data() {\r\n  return{\r\n    data: 1,\r\n    sendChannel: null,\r\n  \r\n    \r\n  }},\r\n \r\n   created: function(){\r\n     const config = {\r\n        iceServers: [{\r\n           urls: 'turn:turn.stepverder.nl:3478', //'stun:stun.l.google.com:19302'  turn:178.62.209.37:3478\r\n           username: 'Dominique',\r\n           credential: 'WS7Yq_jT'\r\n        }]\r\n      };\r\n           \r\n\r\n      peerConnection = new RTCPeerConnection(config);\r\n\r\n     },\r\n  \r\n  computed: {\r\n   \r\n\r\n   \r\n  },\r\n  methods:{ \r\n\r\n  sendData: function(){\r\n    console.log(this.sendChannel)\r\n    sendChannel.send(this.data);\r\n  }, \r\n  async carControl(){\r\n\r\n              /// websocket WebRTC for car cocontrol. This is the sending side to the Raspberry Pi\r\n // chaneel waarover data gestuurd word\r\n   \r\n      const peerId = 'controldataipcar';\r\n      const peerType = 'Raspberrypi';\r\n      const connections = new Map();\r\n\r\n      let ws;\r\n      const getSocket = async (peerId, peerType) => {\r\n        if (ws) return ws;\r\n\r\n        return new Promise((resolve, reject) => {\r\n          try {\r\n            \r\n            ws = new WebSocket('wss://stepverder.nl:4084/controller');  // ws://localhost:4083 online server wss://circusfamilyprojects.nl:4084\r\n          \r\n          console.log(peerId)\r\n           \r\n           const onOpen = () => {\r\n             \r\n              ws.send(JSON.stringify({\r\n                type: 'register',\r\n                peerType,\r\n                peerId,\r\n              }));\r\n\r\n              ws.removeEventListener('open', onOpen);\r\n              // console.log(this.test);\r\n              resolve(ws);\r\n            };\r\n\r\n            ws.addEventListener('open', onOpen);\r\n          } catch (e) {\r\n            reject(e);\r\n          }\r\n        });\r\n      };\r\n\r\n      try {\r\n       console.log('Websocket gelukt');\r\n        const socket = await getSocket(peerId, peerType);\r\n        socket.addEventListener('message', async (e) => {\r\n          //console.log(e)\r\n          try {\r\n            const msg = JSON.parse(e.data)\r\n             console.log(msg)\r\n               \r\n            if (msg.type === 'offer') {\r\n              console.log(\"hallo\")\r\n             \r\n              connections.set(msg.from, peerConnection);\r\n              console.log('incoming data ');\r\n            \r\n              peerConnection.ondatachannel = ev => {\r\n                console.log(ev)\r\n                 let receiveChannel = ev.channel;\r\n                 receiveChannel.onopen = function() {\r\n                      console.log('Verbonden');\r\n                    };\r\n                  receiveChannel.onmessage = function(evt) {\r\n                      console.log(evt)\r\n                  }\r\n              }\r\n              console.log(peerConnection);  \r\n\r\n              await peerConnection.setRemoteDescription(msg.data);\r\n              await peerConnection.createAnswer().then(function(offer) {\r\n                    return peerConnection.setLocalDescription(offer);\r\n              }).then(function() {\r\n                    // wait for ICE gathering to complete\r\n                    return new Promise(function(resolve) {\r\n                        if (peerConnection.iceGatheringState === 'complete') {\r\n                            resolve();\r\n                        } else {\r\n                            function checkState() {\r\n                              console.log(\"Ice gathering\")\r\n                                if (peerConnection.iceGatheringState === 'complete') {\r\n                                    peerConnection.removeEventListener('icegatheringstatechange', checkState);\r\n                                    resolve();\r\n                                }\r\n                            }\r\n                            peerConnection.addEventListener('icegatheringstatechange', checkState);\r\n                        }\r\n                  });\r\n              })\r\n\r\n              \r\n\r\n             console.log(peerConnection.localDescription.sdp);\r\n              socket.send(JSON.stringify({\r\n                to: msg.from,\r\n                from: peerId,\r\n                type: 'answer',\r\n                data: peerConnection.localDescription\r\n              }));\r\n            }\r\n\r\n            if (msg.type === 'disconnect') {\r\n              const connection = connections.get(msg.from);\r\n              if (connection) {\r\n                 this.camera = \"Offline\";\r\n                  this.statusButton = \"connect\",\r\n                  this.InActive = true\r\n                 this.Active = false\r\n                console.log('Disconnecting from', msg.from);\r\n                connection.ontrack = null;\r\n                connection.onicecandidate = null;\r\n                connection.close();\r\n                connections.delete(msg.from);\r\n              }\r\n            }\r\n           \r\n          } catch (e) {\r\n            console.error(e);\r\n                 console.log(\"error video beeld niet ontvangen \"+ e)\r\n          }\r\n        });\r\n\r\n       } catch (e) {\r\n          console.error(e);\r\n          console.log(\"error verbinding mislukt: \"+e)\r\n          }\r\n      },\r\n      \r\n   \r\n  },\r\n\r\n  \r\n}\r\n\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.background{\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: #1e3a42;\r\n  overflow-x: hidden\r\n  \r\n}\r\n\r\n.row,.col-9,.col-3{\r\n     margin: 0;\r\n    padding:0;\r\n  }\r\n\r\n\r\n.data{\r\n  position: relative;\r\n  color: white;\r\n  margin-top: 20px;\r\n  margin-left: 20px;\r\n  text-align: left;\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-color: #1e3a4291;\r\n  padding: 12px;\r\n  padding-left: env(safe-area-inset-left);\r\n  padding-right: env(safe-area-inset-right);\r\n\r\n}\r\nh4{\r\n   margin-bottom: 5px;\r\n}\r\n.namecar{\r\n  display: inline;\r\n}\r\n\r\nul {\r\n    list-style-type: none;\r\n    text-align: left;\r\n    padding-top: 10px;\r\n    padding-left: 5px;\r\n}\r\n.information{\r\n    width: 20vw;\r\n  height: 100vh;\r\n   z-index: 1;\r\n   overflow: hidden;\r\n   float:left;\r\n}\r\n\r\n.joystick1{\r\n  position: absolute;\r\n  width: 5vw;\r\n  height:5vh;\r\n  margin-left:5%;\r\nmargin-top:-20%;\r\n  z-index:4;\r\n  transform: scale(1);\r\n\r\n  \r\n}\r\n\r\n.joystick2{\r\n  position: absolute;\r\n  width: 5vw;\r\n  height:5vh;\r\n  margin-left:80%;\r\n  margin-top:-20%;\r\n  z-index:4;\r\n  transform: scale(1);\r\n  \r\n}\r\n\r\n.multitouch{\r\n  position: absolute;\r\n  width: 5vw;\r\n  height:5vh;\r\n  margin-left:60%;\r\n  margin-top:15%;\r\n  z-index:3;\r\n  transform: scale(1);\r\n  \r\n}\r\n\r\n\r\n.ButtonInactive{\r\n  background-color: rgba(214, 13, 6, 0.5);\r\n  font-size: 100%;\r\n\tborder: 1px solid rgb(184, 46, 46);\r\n  border-radius: 5px;\r\n\twidth: 95px;\r\n\tpadding: 10px 0;\r\n  margin-left: 10px;\r\n\ttext-align: center;\r\n\tdisplay: inline-block;\r\n  margin-right: 10px;\r\n  display: inline;\r\n}\r\n   .ButtonInactive :hover{\r\n     background-color: rgba(184, 46, 46, 0.5)\r\n  }\r\n\r\n.Buttonactive{\r\n  background-color: rgba(6, 214, 13,0.5);\r\n  font-size: 100%;\r\n\tborder: 1px solid rgba(46, 184, 55,1);\r\n  border-radius: 5px;\r\n\twidth: 95px;\r\n\tpadding: 10px 0;\r\n\ttext-align: center;\r\n\tdisplay: inline-block;\r\n  margin-right: 10px;\r\n}\r\n   .Buttonactive :hover{\r\n     background-color: rgba(46, 184, 55,0.5)\r\n  }\r\n\r\n.livefeed{\r\n  margin:0;\r\n  padding: 0;\r\n  display: inline-block;\r\n   overflow: hidden;\r\n   width: 80vw;\r\n  height: 99vh;\r\n  background-color: #2a2a2b;\r\n  z-index: 2;\r\n}\r\n\r\n  video{\r\n  \r\n    margin-left: 0;\r\n    object-fit: cover;\r\n     width: 100%;\r\n     height: 100%;\r\n \r\n    z-index:3;\r\n}\r\n\r\n</style>","import { render } from \"./raspberrypi.vue?vue&type=template&id=45b2be34&scoped=true\"\nimport script from \"./raspberrypi.vue?vue&type=script&lang=js\"\nexport * from \"./raspberrypi.vue?vue&type=script&lang=js\"\n\nimport \"./raspberrypi.vue?vue&type=style&index=0&id=45b2be34&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\dominique\\\\domotica\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-45b2be34\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Controller.vue?vue&type=style&index=0&id=ae0e12e0&scoped=true&lang=css\"","<template>\r\n<div class=\"background\" ref=\"mouseEvent\">\r\n    <h2>controller</h2>\r\n    <button v-on:click=\"carControl\">connect</button>\r\n    <button v-on:click=\"sendData\">send</button>\r\n</div>\r\n  \r\n</template>\r\n\r\n\r\n            \r\n<script>\r\n\r\nlet   sendChannel = null    \r\nexport default {\r\n  \r\n\r\n  data() {\r\n  return{\r\n    data: 1,\r\n  \r\n    \r\n  }},\r\n \r\n   created: function(){\r\n           \r\n\r\n     \r\n\r\n     },\r\n  \r\n  computed: {\r\n   \r\n\r\n   \r\n  },\r\n  methods:{ \r\n\r\n  sendData: function(){\r\n    this.data = Math.floor(Math.random() * 100);\r\n    console.log(this.data)\r\n    sendChannel.send(this.data);\r\n    window.requestAnimationFrame(this.sendData)\r\n  }, \r\n  async carControl(){\r\n\r\n              /// websocket WebRTC for car cocontrol. This is the sending side to the Raspberry Pi\r\n // chaneel waarover data gestuurd word\r\n\r\n          const config = {\r\n            sdpSemantics: 'unified-plan',\r\n            iceServers: [{\r\n              urls: 'turn:turn.stepverder.nl:3478', //'stun:stun.l.google.com:19302'  turn:178.62.209.37:3478 circusfamilyprojects.nl\r\n               username: 'Dominique',\r\n               credential: 'WS7Yq_jT'\r\n            \r\n            }]\r\n          };\r\n          // const getRandomId = () => {\r\n          //   return Math.floor(Math.random() * 10000);\r\n          // };\r\n          const peerId = 'controldata'\r\n          const peerType = 'controller';\r\n          const connections = new Map();\r\n          let ws;\r\n          const getSocket = async (peerId, peerType) => {\r\n            if (ws) return ws;\r\n            return new Promise((resolve, reject) => {\r\n              try {\r\n             \r\n                ws = new WebSocket('wss://stepverder.nl:4084/controller');  // ws://localhost:4083 online server wss://circusfamilyprojects.nl:8084\r\n               \r\n                const onOpen = () => {\r\n                  ws.send(JSON.stringify({\r\n                    type: 'register',\r\n                    peerType,\r\n                    peerId,\r\n                  }));\r\n                  ws.removeEventListener('open', onOpen);\r\n                  resolve(ws);\r\n                };\r\n                ws.addEventListener('open', onOpen);\r\n              } catch (e) {\r\n                reject(e);\r\n                console.log(e)\r\n              }\r\n            });\r\n          };\r\n          try {\r\n            console.log('in controller');\r\n          // console.log(this.carNumber);\r\n         \r\n            const socket = await getSocket(peerId, peerType);\r\n            socket.addEventListener('message', async (e) => {\r\n              const msg = JSON.parse(e.data);\r\n              //console.log('msg', msg);\r\n              if (msg.type === 'Raspberrypis') {\r\n                console.log(\"raspberry pi probeert te verbinden\")\r\n                for (let Raspberrypi of msg.Raspberrypis) {\r\n                  const peerConnection = new RTCPeerConnection(config);\r\n                  connections.set(Raspberrypi, peerConnection);\r\n                  // peerConnection.addStream(window.v.srcObject);\r\n                    peerConnection.addEventListener('icegatheringstatechange', ()=>{;\r\n                       console.log(peerConnection.connectionState)\r\n                     })\r\n                    sendChannel = peerConnection.createDataChannel('sendDataChannel', {ordered: false, maxRetransmits: 0})\r\n                    sendChannel.onopen = function(event) {\r\n                          console.log(\"hi you\")\r\n                          sendChannel.send('Hi raspberrypi!');\r\n                    }\r\n                    console.log(sendChannel)\r\n                  // this.sendChannel.onclose = this.handleSendChannelStatusChange();\r\n\r\n              \r\n                 await peerConnection.createOffer().then(function(offer) {\r\n                      return peerConnection.setLocalDescription(offer);\r\n                  }).then(function() {\r\n                      // wait for ICE gathering to complete\r\n                      return new Promise(function(resolve) {\r\n                          if (peerConnection.iceGatheringState === 'complete') {\r\n                              resolve();\r\n                          } else {\r\n                              function checkState() {\r\n                                console.log(peerConnection.iceGatheringState )\r\n                                  if (peerConnection.iceGatheringState === 'complete') {\r\n                                      peerConnection.removeEventListener('icegatheringstatechange', checkState);\r\n                                      resolve();\r\n                                  }\r\n                              }\r\n                             peerConnection.addEventListener('icegatheringstatechange', checkState);\r\n                          }\r\n                      });\r\n                  }).then(function(){\r\n                        console.log(peerConnection)\r\n\r\n                        //console.log(peerConnection.localDescription.sdp)\r\n                        console.log(\"offer wordt gestuurd\")\r\n                        socket.send(JSON.stringify({\r\n                          type: 'offer',\r\n                          to: Raspberrypi,\r\n                          from: peerId,\r\n                          data: peerConnection.localDescription,\r\n                        }));\r\n                     })\r\n\r\n\r\n             \r\n\r\n\r\n                }\r\n              }\r\n              if (msg.type === 'answer') {\r\n                console.log(\"antwoord van raspberrypi binnen\")\r\n                const peerConnection = connections.get(msg.from);\r\n                console.log(msg.data.sdp)\r\n                await peerConnection.setRemoteDescription(msg.data);\r\n\r\n                console.log(peerConnection)\r\n                console.log(peerConnection.connectionState)\r\n                console.log(peerConnection.iceConnectionState)\r\n                console.log(peerConnection.signalingState)           \r\n              }\r\n              if (msg.type === 'disconnect') {\r\n                const connection = connections.get(msg.from);\r\n                if (connection) {\r\n                  console.log('Disconnecting from', msg.from);\r\n                  connection.close();\r\n                  connections.delete(msg.from);\r\n                }\r\n              }\r\n              if (msg.type === 'candidate') {\r\n                console.log('Adding candidate to', msg.from);\r\n                //console.log(msg.data.candidate);\r\n                const connection = connections.get(msg.from);\r\n                // if (connection) {\r\n                //   connection.addIceCandidate(new RTCIceCandidate(\r\n                //     msg.data\r\n                //   ));\r\n\r\n                // }\r\n              }\r\n            });\r\n          } catch (e) {\r\n            console.log(\"error: \"+e);\r\n          }\r\n        },\r\n      \r\n   \r\n  },\r\n  \r\n\r\n\r\n  \r\n}\r\n\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.background{\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: #1e3a42;\r\n  overflow-x: hidden\r\n  \r\n}\r\n\r\n.row,.col-9,.col-3{\r\n     margin: 0;\r\n    padding:0;\r\n  }\r\n\r\n\r\n.data{\r\n  position: relative;\r\n  color: white;\r\n  margin-top: 20px;\r\n  margin-left: 20px;\r\n  text-align: left;\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-color: #1e3a4291;\r\n  padding: 12px;\r\n  padding-left: env(safe-area-inset-left);\r\n  padding-right: env(safe-area-inset-right);\r\n\r\n}\r\nh4{\r\n   margin-bottom: 5px;\r\n}\r\n.namecar{\r\n  display: inline;\r\n}\r\n\r\nul {\r\n    list-style-type: none;\r\n    text-align: left;\r\n    padding-top: 10px;\r\n    padding-left: 5px;\r\n}\r\n.information{\r\n    width: 20vw;\r\n  height: 100vh;\r\n   z-index: 1;\r\n   overflow: hidden;\r\n   float:left;\r\n}\r\n\r\n.joystick1{\r\n  position: absolute;\r\n  width: 5vw;\r\n  height:5vh;\r\n  margin-left:5%;\r\nmargin-top:-20%;\r\n  z-index:4;\r\n  transform: scale(1);\r\n\r\n  \r\n}\r\n\r\n.joystick2{\r\n  position: absolute;\r\n  width: 5vw;\r\n  height:5vh;\r\n  margin-left:80%;\r\n  margin-top:-20%;\r\n  z-index:4;\r\n  transform: scale(1);\r\n  \r\n}\r\n\r\n.multitouch{\r\n  position: absolute;\r\n  width: 5vw;\r\n  height:5vh;\r\n  margin-left:60%;\r\n  margin-top:15%;\r\n  z-index:3;\r\n  transform: scale(1);\r\n  \r\n}\r\n\r\n\r\n.ButtonInactive{\r\n  background-color: rgba(214, 13, 6, 0.5);\r\n  font-size: 100%;\r\n\tborder: 1px solid rgb(184, 46, 46);\r\n  border-radius: 5px;\r\n\twidth: 95px;\r\n\tpadding: 10px 0;\r\n  margin-left: 10px;\r\n\ttext-align: center;\r\n\tdisplay: inline-block;\r\n  margin-right: 10px;\r\n  display: inline;\r\n}\r\n   .ButtonInactive :hover{\r\n     background-color: rgba(184, 46, 46, 0.5)\r\n  }\r\n\r\n.Buttonactive{\r\n  background-color: rgba(6, 214, 13,0.5);\r\n  font-size: 100%;\r\n\tborder: 1px solid rgba(46, 184, 55,1);\r\n  border-radius: 5px;\r\n\twidth: 95px;\r\n\tpadding: 10px 0;\r\n\ttext-align: center;\r\n\tdisplay: inline-block;\r\n  margin-right: 10px;\r\n}\r\n   .Buttonactive :hover{\r\n     background-color: rgba(46, 184, 55,0.5)\r\n  }\r\n\r\n.livefeed{\r\n  margin:0;\r\n  padding: 0;\r\n  display: inline-block;\r\n   overflow: hidden;\r\n   width: 80vw;\r\n  height: 99vh;\r\n  background-color: #2a2a2b;\r\n  z-index: 2;\r\n}\r\n\r\n  video{\r\n  \r\n    margin-left: 0;\r\n    object-fit: cover;\r\n     width: 100%;\r\n     height: 100%;\r\n \r\n    z-index:3;\r\n}\r\n\r\n</style>","import { render } from \"./Webrtctest.vue?vue&type=template&id=55ab975e&scoped=true\"\nimport script from \"./Webrtctest.vue?vue&type=script&lang=js\"\nexport * from \"./Webrtctest.vue?vue&type=script&lang=js\"\n\nimport \"./Webrtctest.vue?vue&type=style&index=0&id=55ab975e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\dominique\\\\domotica\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-55ab975e\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Webrtctest.vue?vue&type=style&index=0&id=55ab975e&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Broadcast.vue?vue&type=style&index=0&id=f995e1d0&scoped=true&lang=css\"","<template>\r\n<div class=\"background\" ref=\"mouseEvent\">\r\n  <h1>Hallo Chris</h1>\r\n    <p> Hierbij ontvang je een Binance gift card ter waarde van 0.0019 BNB!</p>\r\n    <!-- <MultiTouch  class=\"multitouch\"/>       -->\r\n    <p>Gift card code:</p>\r\n    <p class=\"code\">AF2KE2YGQYAURC3U</p>\r\n    <div class=\"explenation\">\r\n        <ol>\r\n        <li>Open de Binance App</li>\r\n        <li>Klik op het profielpictogram in de linkerbovenhoek</li>\r\n        <li>Klik op Gift Card</li>\r\n        <li>Klik “Receive</li>\r\n        <li>Klik “redeem” > Enter gift card code</li>\r\n        <li>Geniet van je BNB :)</li>\r\n      </ol>\r\n    </div>\r\n   <p class=\"signment\">Sint en Piet</p>\r\n\r\n    <img :src=\"img\"   alt=\"\">\r\n\r\n</div>\r\n  \r\n</template>\r\n\r\n\r\n            \r\n<script>\r\n\r\n\r\n\r\nexport default {\r\n  \r\n\r\n  data() {\r\n  return{\r\n    img: \"https://bin.bnbstatic.com/image/giftcard/02_53_26.jpg\",\r\n  \r\n     \r\n    \r\n  }},\r\n    components: {\r\n    //  'MultiTouch': MultiTouch,\r\n     \r\n  \r\n  },\r\n   created: function(){\r\n           \r\n\r\n     },\r\n  computed: {\r\n   \r\n\r\n   \r\n  },\r\n  methods:{ \r\n  }\r\n  \r\n}\r\n\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap');\r\n\r\n.background{\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: #1e3a42;\r\n  overflow-x: hidden;\r\n  color: white;\r\n  \r\n}\r\n\r\n.row,.col-9,.col-3{\r\n     margin: 0;\r\n    padding:0;\r\n  }\r\n  .code{\r\n    margin:auto;\r\n    padding-bottom: 5px;\r\n    padding-top: 5px;\r\n    text-align: center;\r\n    width: 75%;\r\n    background-color: red;\r\n  }\r\n.explenation{\r\n   text-align: left;\r\n    margin: auto;\r\n  width: 100%;\r\n  padding: 10px;\r\n\r\n}\r\n.signment{\r\n  font-family: 'Dancing Script', cursive;\r\n  font-size: 250%;\r\n}\r\nul {\r\n    list-style-type: none;\r\n    text-align: left;\r\n    padding-top: 10px;\r\n    padding-left: 5px;\r\n}\r\n.information{\r\n    width: 20vw;\r\n  height: 100vh;\r\n   z-index: 1;\r\n   overflow: hidden;\r\n   float:left;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</style>","import { render } from \"./chris.vue?vue&type=template&id=7d53575c&scoped=true\"\nimport script from \"./chris.vue?vue&type=script&lang=js\"\nexport * from \"./chris.vue?vue&type=script&lang=js\"\n\nimport \"./chris.vue?vue&type=style&index=0&id=7d53575c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\dominique\\\\domotica\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d53575c\"]])\n\nexport default __exports__","<template>\r\n<div class=\"background\" ref=\"mouseEvent\">\r\n  <div class=\"row\" v-if=\"desktop\">\r\n    <div class=\"information\" >\r\n      <div class=\"data\">\r\n        <h4>IP CarDesktop</h4>\r\n         <ul>\r\n          <li>Status: {{status}}</li>\r\n          <li>Snelheid: {{realSpeed}}km/h</li>\r\n          <li>Accu: {{accu}}%</li>\r\n          <!-- <li>Trim: {{trim}}</li>\r\n          <li>Verlichting: {{light}}</li> -->\r\n          <li>Camera: {{camera}}</li>\r\n        </ul>\r\n          <div   v-bind:class=\"{ Buttonactive: Active, ButtonInactive: Inactive}\" v-on:click=\"connect\">{{statusButton}}</div>\r\n      </div>\r\n   </div>\r\n    <div class=\"livefeed\">\r\n   \r\n       \r\n        <video mute='true' playsinline autoplay id='v'  ></video> <!--  //v-bind:style=\"{ 'border': '7px solid'+color1.hex+'' }\" -->\r\n    </div>\r\n\r\n </div>\r\n  <div class=\"row\" v-if=\"mobile\">\r\n    <div class=\"information\" >\r\n      <div class=\"data\">\r\n        <h4 class=\"namecar\">IP car</h4><div   v-bind:class=\"{ Buttonactive: Active, ButtonInactive: Inactive}\" v-on:click=\"connect\">{{statusButton}}</div>\r\n         <ul>\r\n          <li>Status: {{status}}</li>\r\n          <li>Snelheid: {{realSpeed}}km/h</li>\r\n          <li>Accu: {{accu}}%</li>\r\n          <li>Trim: {{trim}}</li>\r\n          <li><input type=\"checkbox\" id=\"checkbox\" v-on:click=\"touchSwitch\" v-model=\"touchState\" >\r\n              <label for=\"checkbox\">Touch control: {{ touchState }}</label></li>\r\n          <!-- <li>Verlichting: {{light}}</li>\r\n          <li>Camera: {{camera}}</li> -->\r\n        </ul>\r\n        \r\n      </div>\r\n   </div>\r\n    <div class=\"livefeed\">\r\n   \r\n       \r\n        <video mute='true' playsinline autoplay id='v'  ></video> <!--  //v-bind:style=\"{ 'border': '7px solid'+color1.hex+'' }\" -->\r\n    </div>\r\n    <div v-if=\"touchVisibilty\">\r\n      <Joystick1 class=\"joystick1\" @change=\"handleChange('left', $event);\" /> \r\n      <Joystick2 class=\"joystick2\" @change=\"handleChange('right', $event);\" />\r\n    </div>\r\n    <!-- <MultiTouch  class=\"multitouch\"/>       -->\r\n </div>\r\n</div>\r\n  \r\n</template>\r\n\r\n\r\n            \r\n<script>\r\n//import osc from \"osc\";\r\n\r\nimport Joystick1 from '../components/joystick';\r\nimport Joystick2 from '../components/joystick';\r\nimport controllerConnection from '../components/controllerConnection';\r\n\r\n//  var port = new osc.WebSocketPort({\r\n//           url: \"wss://circusfamilyprojects.nl:8084\" // ws://localhost:8083 online server wss://circusfamilyprojects.nl:8084\r\n//         }); \r\n\r\n//  port.open();\r\n\r\nlet   sendChannel = null // channel waarover data gestuurd gaat worden  \r\nlet _this = null\r\n\r\nexport default {\r\n  \r\n\r\n  data() {\r\n  return{\r\n    \r\n    status: \"offline\",\r\n    statusButton: \"connect\",\r\n    speed: 0,\r\n    realSpeed:0,\r\n    accu: 0,\r\n    trim: 0,\r\n    light: \"uit\",\r\n    camera: \"offline\",\r\n    controller: \"offline\",\r\n    xAxesLeft: 0,\r\n    sendSpeedValue: 0,\r\n    Inactive: true,\r\n    Active: false,\r\n    internetConnection: false,\r\n    desktop: true,\r\n    mobile: false,\r\n    touchState: false,\r\n    touchVisibilty:false,\r\n    optionButton: 0,\r\n    leftStick: {\r\n        x: 0,\r\n        y: 0,\r\n        speed: 0,\r\n        angle: 0\r\n      },\r\n     rightStick: {\r\n        x: 0,\r\n        y: 0,\r\n        speed: 0,\r\n        angle: 0\r\n      },\r\n    metaInfo: {\r\n      meta: [\r\n        { charset: 'utf-8' },\r\n        { name: 'viewport',  content:\"width=device-width, initial-scale=1.0\" }\r\n      ]\r\n    }\r\n    \r\n     \r\n    \r\n  }},\r\n    components: {\r\n     'Joystick1': Joystick1,\r\n     'Joystick2': Joystick2,\r\n    controllerConnection\r\n     \r\n  \r\n  },\r\n   created: function(){\r\n           \r\n       this.gameController()  \r\n       _this = this\r\n\r\n\r\n     },\r\n    mounted: function(){\r\n       let _this = this;\r\n       this.$refs.mouseEvent.addEventListener('touchmove',(event) =>{\r\n          event.preventDefault();\r\n          event.stopImmediatePropagation();\r\n         // this.setMobiletouch(event);\r\n        },{ passive: false });\r\n\r\n        if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){\r\n          // true for mobile device\r\n          console.log(\"mobile device\");\r\n         this.mobile =true;\r\n         this.desktop = false;\r\n         \r\n        }else{\r\n          // false for not mobile device\r\n          console.log(\"not mobile device\");\r\n        this.mobile =false;\r\n         this.desktop = true;\r\n        }\r\n\r\n    },\r\n  computed: {\r\n   \r\n\r\n   \r\n  },\r\n  methods:{ \r\n     touchSwitch : function() { // function for turning on and off touch control\r\n       if (this.touchVisibilty==false){\r\n       \r\n            this.touchVisibilty=true\r\n       }else{\r\n         this.touchVisibilty=false\r\n       }\r\n      \r\n       \r\n    },\r\n     gameController(){\r\n         // gamepadconnected with pc\r\n          \r\n           window.addEventListener(\"gamepadconnected\", () => {\r\n               //this.hideGamepad = false;  \r\n              // console.log(\"controller\")        \r\n              this.inputController()\r\n              //gamepads is an array with all the gamepad buttons\r\n              this.gamepads = navigator.getGamepads();\r\n              //console.log(this.gamepads);\r\n\r\n          });\r\n\r\n          // gamepadconnected disconnected with pc\r\n            window.addEventListener(\"gamepaddisconnected\", () => {\r\n               // this.hideGamepad = true;   \r\n          });\r\n          \r\n\r\n      },\r\n      //setMobiletouch(event){\r\n\r\n         // this.mouseX = touch.clientX;\r\n         // this.mouseY = touch.clientY;\r\n\r\n     // },\r\n    handleChange(id, { x, y, speed, angle }) {\r\n        const stick = this[`${id}Stick`];\r\n       \r\n       \r\n        stick.speed = speed;\r\n        stick.angle = angle;\r\n\r\n       if(id== \"right\"){\r\n          stick.y = y;\r\n          this.speed = this.map(stick.y,48,-48,1350,1650);  //R2      \r\n       }\r\n       if(id== \"left\"){\r\n          stick.x = x;\r\n         this.xAxesLeft = this.map(stick.x,-48,48,500,2500); //x as linkerkant sturen\r\n       }\r\n\r\n        \r\n        \r\n\r\n       \r\n        if( this.mobile== true && this.touchState == true){\r\n          console.log(this.speed)\r\n          sendChannel.send([this.xAxesLeft,this.speed ]);\r\n        }\r\n      },\r\n      inputController(){\r\n\r\n        const gamepads = navigator.getGamepads()\r\n      \r\n\r\n        if(gamepads[0]){\r\n          // console.log(gamepads[0]);\r\n          this.gamepadState ={\r\n            id: gamepads[0].id,\r\n            axes:[\r\n                gamepads[0].axes[0],\r\n            ],\r\n            buttons:[\r\n                {button_1: gamepads[0].buttons[0].value},\r\n                {button_3: gamepads[0].buttons[3].value},\r\n                {button_4: gamepads[0].buttons[4].value},\r\n                {button_5: gamepads[0].buttons[5].value},\r\n                {button_6: gamepads[0].buttons[6].value},\r\n                {button_7: gamepads[0].buttons[7].value},\r\n                {button_9: gamepads[0].buttons[7].value},\r\n                {button_14: gamepads[0].buttons[14].value},\r\n                {button_15: gamepads[0].buttons[15].value},\r\n            ]\r\n          }\r\n\r\n          // set button values eagle to vue variable so they can be send via OSC\r\n     \r\n          this.Kruisje = gamepads[0].buttons[0].value;  // kruisje\r\n          this.Kruisje = gamepads[0].buttons[3].value; // driehoekje\r\n          this.optionButton= gamepads[0].buttons[9].value; // driehoekje\r\n         // this.L1 = gamepads[0].buttons[4].value;  //L1\r\n         // this.R1 = gamepads[0].buttons[5].value;  //R1\r\n\r\n         // maping speed to km/h\r\n          this.speed = this.map(gamepads[0].buttons[7].value,0,1,1500,1600);  //R2\r\n          this.reverse = this.map(gamepads[0].buttons[6].value,0,1,1500,1400);  //L2\r\n          this.xAxesLeft = this.map(gamepads[0].axes[0],-1,1,500,2500); //x as linkerkant\r\n        //  this.BL = gamepads[0].buttons[14].value;  //Button left\r\n        //  this.BR = gamepads[0].buttons[15].value;  //Button right\r\n\r\n          //realSpeed is de snelheid die je op het scherm ziet en is een gemapte waarde\r\n          if(gamepads[0].buttons[6].value ==0){\r\n           this.realSpeed = this.map(gamepads[0].buttons[7].value,0,1,0,15);  //R2\r\n          }\r\n          if(gamepads[0].buttons[7].value ==0){\r\n           this.realSpeed = this.map(gamepads[0].buttons[6].value,0,1,0,15);  //L2\r\n          }\r\n        // function zodat je niet kan remmen en gas geven tegelijk\r\n        if( this.speed >1501){\r\n            this.sendSpeedValue =this.speed // send voorruit rijden\r\n        } else if(this.reverse <1501){\r\n            this.sendSpeedValue = this.reverse // send achteruit rijden\r\n        }else if(this.reverse <1499 &&  this.speed >1501){\r\n           this.sendSpeedValue = 1500; // voor en achteruit tegelijk is 0\r\n        }\r\n        //console.log( this.xAxesLeft)\r\n        if( this.controller == \"online\"){\r\n          if(this.touchState == false){\r\n            sendChannel.send(\"steering: \"+this.xAxesLeft+\", speed: \"+this.sendSpeedValue+\", camera: \"+this.optionButton+\"\"); //JSON.stringify({steering: this.xAxesLeft, speed: this.sendSpeedValue, camera: this.optionButton })\r\n            //console.log( this.sendSpeedValue);\r\n          }\r\n        }\r\n        }\r\n        \r\n      window.requestAnimationFrame(this.inputController) // this reload the function inputcontroller function every framerate\r\n      }, // einde input controller\r\n      map( x,  in_min,  in_max,  out_min,  out_max){ // maps de waardes van de controller zodat de de ESC ze begrijpt\r\n            return ((x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min).toFixed(0)\r\n      },\r\n      connect(){\r\n          this.carControl() // maakt de data verbinding \r\n          this.videoStream() // maakt de video verbinding \r\n\r\n         this.internetConnection = window.navigator.onLine;\r\n\r\n         if ( this.internetConnection) {\r\n                this.status = \"internet\"\r\n            } else {\r\n                this.status = \"No internet\"\r\n            }\r\n      },\r\n      online(){ // set everything on online\r\n        //2wwwconsole.log(\"Wat is online? \"+this.controller+\" \" + this.camera)\r\n       if( this.controller == \"online\" && this.camera == \"online\"){\r\n         this.status = \"connected\"\r\n         this.statusButton = \"connected\"\r\n\r\n       }\r\n\r\n      },\r\n      async carControl(){ // verbinding controller\r\n\r\n          /// websocket WebRTC for car cocontrol. This is the sending side to the Raspberry Pi\r\n          // chaneel waarover data gestuurd word\r\n          const config = {\r\n            sdpSemantics: 'unified-plan',\r\n            iceCandidatePoolSize: 4,\r\n            //iceTransportPolicy: \"relay\",\r\n            iceServers: [{\r\n              urls: 'turn:turn.stepverder.nl:3478', //'stun:stun.l.google.com:19302'  turn:178.62.209.37:3478 circusfamilyprojects.nl\r\n               username: 'Dominique',\r\n               credential: 'WS7Yq_jT'\r\n            \r\n            },]\r\n          };\r\n          // const getRandomId = () => {\r\n          //   return Math.floor(Math.random() * 10000);\r\n          // };\r\n          const peerId = 'controldata'\r\n          const peerType = 'controller';\r\n          const connections = new Map();\r\n          let ws;\r\n          const getSocket = async (peerId, peerType) => {\r\n            if (ws) return ws;\r\n            return new Promise((resolve, reject) => {\r\n              try {\r\n             \r\n                ws = new WebSocket('wss://stepverder.nl:4084/controller');  // ws://localhost:4083 online server wss://circusfamilyprojects.nl:8084\r\n               \r\n                const onOpen = () => {\r\n                  ws.send(JSON.stringify({\r\n                    type: 'register',\r\n                    peerType,\r\n                    peerId,\r\n                  }));\r\n                  ws.removeEventListener('open', onOpen);\r\n                  resolve(ws);\r\n                };\r\n                ws.addEventListener('open', onOpen);\r\n              } catch (e) {\r\n                reject(e);\r\n                console.log(e)\r\n              }\r\n            });\r\n          };\r\n          try {\r\n            console.log('in controller');\r\n          // console.log(this.carNumber);\r\n         \r\n            const socket = await getSocket(peerId, peerType);\r\n            socket.addEventListener('message', async (e) => {\r\n              const msg = JSON.parse(e.data);\r\n              //console.log('msg', msg);\r\n              if (msg.type === 'Raspberrypis') {\r\n                console.log(\"raspberry pi probeert te verbinden\")\r\n                for (let Raspberrypi of msg.Raspberrypis) {\r\n                  const peerConnection = new RTCPeerConnection(config);\r\n                  connections.set(Raspberrypi, peerConnection);\r\n                  // peerConnection.addStream(window.v.srcObject);\r\n                    peerConnection.addEventListener('icegatheringstatechange', ()=>{;\r\n                       console.log(peerConnection.connectionState)\r\n                     })\r\n                    sendChannel = peerConnection.createDataChannel('sendDataChannel', {ordered: false, maxRetransmits: 0})\r\n                    sendChannel.onopen = function(event) {\r\n                          _this.status = \"controller \"\r\n                          _this.controller = \"online\"\r\n                           _this.online()\r\n                          console.log(\"hi you\")\r\n                          //sendChannel.send(['Hi raspberrypi!']);\r\n                    }\r\n                    console.log(sendChannel)\r\n                  // this.sendChannel.onclose = this.handleSendChannelStatusChange();\r\n\r\n              \r\n                 await peerConnection.createOffer().then(function(offer) {\r\n                      return peerConnection.setLocalDescription(offer);\r\n                  }).then(function() {\r\n                      // wait for ICE gathering to complete\r\n                      return new Promise((resolve) => {\r\n                          if (peerConnection.iceGatheringState === 'complete') {\r\n                              _this.status = \"complete\"\r\n                              resolve();\r\n                          } else {\r\n                              let checkState = () =>{\r\n                                console.log(peerConnection.iceGatheringState )\r\n                                 _this.status = \" Ice gathering \"\r\n                                 \r\n                                  if (peerConnection.iceGatheringState === 'complete') {\r\n                                      peerConnection.removeEventListener('icegatheringstatechange', checkState);\r\n                                      resolve();\r\n                                  }\r\n                                  setTimeout(() => {// if gathering from icecandidates takes longer than 2.5secondes stop gathering ice candidates\r\n                                      peerConnection.removeEventListener('icegatheringstatechange', checkState);\r\n                                      resolve();\r\n                                    }, 2500)\r\n                              }\r\n                             peerConnection.addEventListener('icegatheringstatechange', checkState);\r\n                          }\r\n                      });\r\n                  }).then(function(){\r\n                        console.log(peerConnection)\r\n\r\n                        //console.log(peerConnection.localDescription.sdp)\r\n                        console.log(\"offer wordt gestuurd\")\r\n                        socket.send(JSON.stringify({\r\n                          type: 'offer',\r\n                          to: Raspberrypi,\r\n                          from: peerId,\r\n                          data: peerConnection.localDescription,\r\n                        }));\r\n                     })\r\n                }\r\n              }\r\n              if (msg.type === 'answer') {\r\n                console.log(\"antwoord van raspberrypi binnen\")\r\n                const peerConnection = connections.get(msg.from);\r\n                console.log(msg.data.sdp)\r\n                await peerConnection.setRemoteDescription(msg.data);\r\n\r\n                console.log(peerConnection)\r\n                console.log(peerConnection.connectionState)\r\n                console.log(peerConnection.iceConnectionState)\r\n                console.log(peerConnection.signalingState)           \r\n              }\r\n              if (msg.type === 'disconnect') {\r\n                const connection = connections.get(msg.from);\r\n                _this.status = \"controller disconnect\"\r\n                _this.statusButton = \"connect\"\r\n                if (connection) {\r\n                  console.log('Disconnecting from', msg.from);\r\n                  connection.close();\r\n                  connections.delete(msg.from);\r\n                }\r\n              }\r\n            });\r\n          } catch (e) {\r\n            console.log(\"error: \"+e);\r\n          }\r\n        },// einde controller connection\r\n     async videoStream(){ /// begin video verbinding \r\n\r\n              /// websocket WebRTC for live stream\r\n      \r\n\r\n      const config = {\r\n        iceServers: [{\r\n           urls: 'turn:turn.stepverder.nl:3478', //'stun:stun.l.google.com:19302'  turn:178.62.209.37:3478\r\n           username: 'Dominique',\r\n           credential: 'WS7Yq_jT'\r\n        }]\r\n      };\r\n\r\n      const getRandomId = () => {\r\n        return Math.floor(Math.random() * 10000);\r\n      };\r\n\r\n      const peerId = 'ipcar'+getRandomId();\r\n      const peerType = 'screen';\r\n      const connections = new Map();\r\n\r\n      let ws;\r\n      const getSocket = async (peerId, peerType) => {\r\n        if (ws) return ws;\r\n\r\n        return new Promise((resolve, reject) => {\r\n          try {\r\n            \r\n            ws = new WebSocket('wss://stepverder.nl:4084/ipcar');  // ws://localhost:4083 online server wss://circusfamilyprojects.nl:4084\r\n          \r\n          console.log(peerId)\r\n           \r\n           const onOpen = () => {\r\n             \r\n              ws.send(JSON.stringify({\r\n                type: 'register',\r\n                peerType,\r\n                peerId,\r\n              }));\r\n\r\n              ws.removeEventListener('open', onOpen);\r\n              // console.log(this.test);\r\n              resolve(ws);\r\n            };\r\n\r\n            ws.addEventListener('open', onOpen);\r\n          } catch (e) {\r\n            reject(e);\r\n          }\r\n        });\r\n      };\r\n\r\n      try {\r\n       console.log('in screen');\r\n        const socket = await getSocket(peerId, peerType);\r\n        socket.addEventListener('message', async (e) => {\r\n          //console.log(e)\r\n          try {\r\n            const msg = JSON.parse(e.data)\r\n             console.log(msg)\r\n               \r\n            if (msg.type === 'offer') {\r\n              const peerConnection = new RTCPeerConnection(config);\r\n              connections.set(msg.from, peerConnection);\r\n                console.log('incoming data ');\r\n                 this.camera = \"online\";\r\n                 this.statusButton = \"online\",\r\n                 this.InActive = false\r\n                 this.Active = true\r\n\r\n              peerConnection.ontrack = (e) => {\r\n                this.status = \"camera\"\r\n                _this.online()\r\n                console.log('on track', e);\r\n                window.v.srcObject = e.streams[0];\r\n                 window.v.play();\r\n                //window.wait.classList.add('hidden');\r\n               // window.controls.classList.remove('hidden');\r\n              };\r\n\r\n              peerConnection.onicecandidate = (e) => {\r\n                  console.log('set icecandidate');\r\n                  //console.log( e.candidate);\r\n                if (e.candidate) {\r\n                  socket.send(JSON.stringify({\r\n                    type: 'candidate',\r\n                    from: peerId,\r\n                    to: msg.from,\r\n                    data: e.candidate,\r\n                  }));\r\n                }\r\n              };\r\n\r\n              await peerConnection.setRemoteDescription(msg.data);\r\n              const sdp = await peerConnection.createAnswer();\r\n              await peerConnection.setLocalDescription(sdp);\r\n\r\n              \r\n\r\n             // console.log('sending answer');\r\n              socket.send(JSON.stringify({\r\n                to: msg.from,\r\n                from: peerId,\r\n                type: 'answer',\r\n                data: peerConnection.localDescription\r\n              }));\r\n            }\r\n\r\n            if (msg.type === 'disconnect') {\r\n              const connection = connections.get(msg.from);\r\n              if (connection) {\r\n                 this.status = \"camera disconnect\"\r\n                 this.camera = \"Offline\";\r\n                  this.statusButton = \"connect\",\r\n                  this.InActive = true\r\n                 this.Active = false\r\n                console.log('Disconnecting from', msg.from);\r\n                connection.ontrack = null;\r\n                connection.onicecandidate = null;\r\n                connection.close();\r\n                connections.delete(msg.from);\r\n              }\r\n            }\r\n\r\n            if (msg.type === 'candidate') {\r\n              console.log(msg.data)\r\n              \r\n              const connection = connections.get(msg.from);\r\n                //console.log(connection)\r\n              if (connection) {\r\n                console.log('Adding candidate to', msg.from);\r\n                connection.addIceCandidate(new RTCIceCandidate(\r\n                  msg.data\r\n                ));\r\n              \r\n              }\r\n            }\r\n           \r\n          } catch (e) {\r\n            console.error(e);\r\n                 console.log(\"error video beeld niet ontvangen \"+ e)\r\n          }\r\n        });\r\n\r\n       } catch (e) {\r\n          console.error(e);\r\n          console.log(\"error verbinding mislukt: \"+e)\r\n          }\r\n      },\r\n      \r\n   \r\n  },  // einde video verbinding \r\n  \r\n}\r\n\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.background{\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: #1e3a42;\r\n  overflow-x: hidden\r\n  \r\n}\r\n\r\n.row,.col-9,.col-3{\r\n     margin: 0;\r\n    padding:0;\r\n  }\r\n\r\n\r\n.data{\r\n  position: relative;\r\n  color: white;\r\n  margin-top: 20px;\r\n  margin-left: 20px;\r\n  font-size: 13px;\r\n  text-align: left;\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-color: #1e3a4291;\r\n  padding: 12px;\r\n  padding-left: env(safe-area-inset-left);\r\n  padding-right: env(safe-area-inset-right);\r\n\r\n}\r\nh4{\r\n   margin-bottom: 5px;\r\n}\r\n.namecar{\r\n  display: inline;\r\n}\r\n\r\nul {\r\n    list-style-type: none;\r\n    text-align: left;\r\n    padding-top: 10px;\r\n    padding-left: 5px;\r\n}\r\n.information{\r\n    width: 20vw;\r\n  height: 100vh;\r\n   z-index: 1;\r\n   overflow: hidden;\r\n   float:left;\r\n}\r\n\r\n.joystick1{\r\n  position: absolute;\r\n  width: 5vw;\r\n  height:5vh;\r\n  margin-left:5%;\r\nmargin-top:-20%;\r\n  z-index:4;\r\n  transform: scale(1);\r\n\r\n  \r\n}\r\n\r\n.joystick2{\r\n  position: absolute;\r\n  width: 5vw;\r\n  height:5vh;\r\n  margin-left:80%;\r\n  margin-top:-20%;\r\n  z-index:4;\r\n  transform: scale(1);\r\n  \r\n}\r\n\r\n.multitouch{\r\n  position: absolute;\r\n  width: 5vw;\r\n  height:5vh;\r\n  margin-left:60%;\r\n  margin-top:15%;\r\n  z-index:3;\r\n  transform: scale(1);\r\n  \r\n}\r\n\r\n\r\n.ButtonInactive{\r\n  background-color: rgba(214, 13, 6, 0.5);\r\n  font-size: 100%;\r\n\tborder: 1px solid rgb(184, 46, 46);\r\n  border-radius: 5px;\r\n\twidth: 95px;\r\n\tpadding: 10px 0;\r\n  margin-left: 10px;\r\n\ttext-align: center;\r\n\tdisplay: inline-block;\r\n  margin-right: 10px;\r\n  display: inline;\r\n}\r\n   .ButtonInactive :hover{\r\n     background-color: rgba(184, 46, 46, 0.5)\r\n  }\r\n\r\n.Buttonactive{\r\n  background-color: rgba(6, 214, 13,0.5);\r\n  font-size: 100%;\r\n\tborder: 1px solid rgba(46, 184, 55,1);\r\n  border-radius: 5px;\r\n\twidth: 95px;\r\n\tpadding: 10px 0;\r\n\ttext-align: center;\r\n\tdisplay: inline-block;\r\n  margin-right: 10px;\r\n}\r\n   .Buttonactive :hover{\r\n     background-color: rgba(46, 184, 55,0.5)\r\n  }\r\n\r\n.livefeed{\r\n  margin:0;\r\n  padding: 0;\r\n  display: inline-block;\r\n   overflow: hidden;\r\n   width: 80vw;\r\n  height: 99vh;\r\n  background-color: #2a2a2b;\r\n  z-index: 2;\r\n}\r\n\r\n  video{\r\n  \r\n    margin-left: 0;\r\n    object-fit: cover;\r\n     width: 100%;\r\n     height: 100%;\r\n \r\n    z-index:3;\r\n}\r\n\r\n</style>","import { render } from \"./Controller.vue?vue&type=template&id=ae0e12e0&scoped=true\"\nimport script from \"./Controller.vue?vue&type=script&lang=js\"\nexport * from \"./Controller.vue?vue&type=script&lang=js\"\n\nimport \"./Controller.vue?vue&type=style&index=0&id=ae0e12e0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\dominique\\\\domotica\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ae0e12e0\"]])\n\nexport default __exports__","\r\n<template>\r\n\r\n<div>\r\n\r\n    \r\n    <h3>Live Video Stream (broadcast)</h3>\r\n   \r\n       <video  mute='true' playsinline autoplay id='v' width='50%' height='50%'></video>\r\n{{$route.params.id }}\r\n\r\n</div>\r\n  \r\n</template>\r\n\r\n            \r\n<script>\r\n\r\nexport default {\r\n\r\n  data() {\r\n  return{\r\n       user: \"hello\"\r\n \r\n    \r\n  }},\r\n    created() {\r\n      this.user = this.$route.params.id; \r\n     this.videoStream()\r\n        \r\n        \r\n  },\r\n  \r\n   mounted: function(){ \r\n     },\r\n  computed: {\r\n  },\r\n  methods:{\r\n       async videoStream(){\r\n          console.log(this.user)\r\n          const config = {\r\n            iceServers: [{\r\n              urls: 'turn:turn.stepverder.nl:3478', //'stun:stun.l.google.com:19302'  turn:178.62.209.37:3478 circusfamilyprojects.nl\r\n               username: 'Dominique',\r\n               credential: 'WS7Yq_jT'\r\n            \r\n            }]\r\n          };\r\n          // const getRandomId = () => {\r\n          //   return Math.floor(Math.random() * 10000);\r\n          // };\r\n          const peerId = this.user\r\n          const peerType = 'camera';\r\n          const connections = new Map();\r\n          let ws;\r\n          const getSocket = async (peerId, peerType) => {\r\n            if (ws) return ws;\r\n            return new Promise((resolve, reject) => {\r\n              try {\r\n                const protocol = (\r\n                  window.location.protocol === 'https:' ?\r\n                    'wss:' :\r\n                    'ws:'\r\n                );\r\n                ws = new WebSocket('wss://stepverder.nl:4084/'+this.user+'');  // ws://localhost:4083 online server wss://circusfamilyprojects.nl:8084\r\n                console.log(ws)\r\n                const onOpen = () => {\r\n                 \r\n                  ws.send(JSON.stringify({\r\n                    type: 'register',\r\n                    peerType,\r\n                    peerId,\r\n                  }));\r\n                  ws.removeEventListener('open', onOpen);\r\n                  resolve(ws);\r\n                };\r\n                ws.addEventListener('open', onOpen);\r\n              } catch (e) {\r\n                reject(e);\r\n              }\r\n            });\r\n          };\r\n          try {\r\n            console.log('in camera');\r\n          // console.log(this.carNumber);\r\n            const mediaStream = await navigator.mediaDevices.getUserMedia({\r\n               video: {\r\n                      width: {exact: 1280},\r\n                      height: {exact: 720},\r\n                      frameRate: {\r\n                                   min: 30,\r\n                                   max: 120\r\n                                  }\r\n                      },\r\n              audio: false,\r\n            });\r\n            window.v.srcObject = mediaStream;\r\n            window.v.play();\r\n            const socket = await getSocket(peerId, peerType);\r\n            socket.addEventListener('message', async (e) => {\r\n                 //  console.log(e);\r\n              const msg = JSON.parse(e.data);\r\n              console.log('msg', msg);\r\n              if (msg.type === 'screens') {\r\n                console.log(\"vraag om beeld voor candidaten\")\r\n               \r\n                for (let screen of msg.screens) {\r\n                  const peerConnection = new RTCPeerConnection(config);\r\n                  connections.set(screen, peerConnection);\r\n                  // peerConnection.addStream(window.v.srcObject);\r\n                  for (let track of mediaStream.getTracks()) {\r\n                    peerConnection.addTrack(track, mediaStream);\r\n                    //console.log(track)\r\n                  }\r\n                   console.log(peerConnection)\r\n                  const sdp = await peerConnection.createOffer();\r\n                  await peerConnection.setLocalDescription(sdp);\r\n                 \r\n                  peerConnection.onicecandidate = (e) => {\r\n                    if (e.candidate) {\r\n                      console.log(\"set ice candidate\")\r\n                      console.log(e)\r\n                      socket.send(JSON.stringify({\r\n                        type: 'candidate',\r\n                        from: peerId,\r\n                        to: screen,\r\n                        data: e.candidate,\r\n                      }));\r\n                    }\r\n                  };\r\n                 \r\n                  socket.send(JSON.stringify({\r\n                    type: 'offer',\r\n                    to: screen,\r\n                    from: peerId,\r\n                    data: peerConnection.localDescription,\r\n                  }));\r\n\r\n                  //console.log(peerConnection.localDescription.sdp)\r\n                console.log(peerConnection.connectionState)\r\n                }\r\n              }\r\n              if (msg.type === 'answer') {\r\n               // console.log(\"antwoord van screen\")\r\n                const peerConnection = connections.get(msg.from);\r\n                await peerConnection.setRemoteDescription(msg.data);\r\n                console.log(peerConnection)\r\n              }\r\n              if (msg.type === 'disconnect') {\r\n                const connection = connections.get(msg.from);\r\n                if (connection) {\r\n                 // console.log('Disconnecting from', msg.from);\r\n                  connection.close();\r\n                  connections.delete(msg.from);\r\n                }\r\n              }\r\n              if (msg.type === 'candidate') {\r\n                const connection = connections.get(msg.from);\r\n                 \r\n                if (connection) {\r\n                 // console.log('Adding candidate to', msg.from);\r\n                 \r\n                  connection.addIceCandidate(new RTCIceCandidate(\r\n                    msg.data\r\n                  ));\r\n                  \r\n                  console.log(connection.connectionState)\r\n                }\r\n              }\r\n            });\r\n          } catch (e) {\r\n            console.log(\"error: \"+e);\r\n          }\r\n        },\r\n       \r\n  \r\n   \r\n  },\r\n  \r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nhtml {\r\n    height: 100%;\r\n}\r\n\r\nh3 {\r\n  \r\n  margin: 40px;\r\n}\r\n\r\nvideo{\r\n  width: 40vw;\r\n  height:40vh;\r\n}\r\n\r\n\r\n\r\n</style>\r\n","import { render } from \"./Broadcast.vue?vue&type=template&id=f995e1d0&scoped=true\"\nimport script from \"./Broadcast.vue?vue&type=script&lang=js\"\nexport * from \"./Broadcast.vue?vue&type=script&lang=js\"\n\nimport \"./Broadcast.vue?vue&type=style&index=0&id=f995e1d0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\dominique\\\\domotica\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f995e1d0\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./chris.vue?vue&type=style&index=0&id=7d53575c&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./raspberrypi.vue?vue&type=style&index=0&id=45b2be34&scoped=true&lang=css\"","<template>\n  <div class=\"about\">\n    <h1>This is an about page</h1>\n  </div>\n</template>\n","import { render } from \"./About.vue?vue&type=template&id=1ae8a7be\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\dominique\\\\domotica\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}